由一张图片生成两个view，$N\to 2N$

无监督对比学习：
只有来自相同图片的两个view互为正例(SimCLR)，假设这两个view index分别为 $i,j$，则$\mathcal{L}_{i,j}=-\log \dfrac{\exp(\text{sim}(z_{i},z_{j})/\tau)}{\sum_{k=1}^{2N}1_{[k\neq i]}\exp(\text{sim}(z_{i},z_{k}) / \tau)}$
$z$: 经过一个MLP的特征
$\tau$: temperature
$\text{sim}$: cosine similarity

有监督：
输入label或mask表示两张图片是否属于同一class

$$
\mathcal{L}_{out}^{sup}=\sum_{i \in I}\mathcal{L}_{out,i}^{sup}=\sum_{i \in I}\dfrac{1}{\lvert P(i) \rvert }\sum _{p \in P(i)} \mathcal{L}(i,p)=\sum_{i \in I} \dfrac{1}{\lvert P(i) \rvert }\sum_{p \in P(i)}\log \dfrac{\exp(z_{i} \cdot z_{p} / \tau)}{\sum _{a \in A(i)}\exp(z_{i} \cdot z_{a} / \tau)}
$$

