- BootLoader
- 内核态和用户态的区分
	- 安全保护的需求
	- 用户程序、 库、可移植层、 机器相关层
- 内核态和用户态切换
	- 硬件中断
	- Fault
	- Trap：系统调用
	- Abort
- 内核架构：宏内核、微内核

---

异常的控制流转移：
- Interrupt: 与当前指令无关，执行完中断恢复进程
- Fault: 处理完错误后若能恢复转移给当前指令 $I_{\text{current}}$，否则终止
- Trap: 转移给下一条指令 $I_{\text{next}}$
- Abort: 终止程序

---

注意：放在用户栈上的参数不能被kernel直接访问（隔离），所以系统调用传超过寄存器数量的参数的流程：

参数保存在用户空间数组中，然后寄存器记录数组起始地址，内核用 `copy_from_user` 获取用户空间参数