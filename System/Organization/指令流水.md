---
title: 指令流水
---
结构相关：硬件资源满足不了指令重叠执行
数据相关：指令在流水线中重叠执行时，后继指令需要用到前面指令的执行结果
控制相关：流水线遇到分支指令/其他改变PC值的指令

1. 并行的概念

	并行分为：
	
	- 并发 两个或两个以上事件在 同一时间段 发生
	
	- 同时 两个或两个以上事件在 同一时刻 发生

	时间上互相重叠

2. 并行性的等级

	过程级（程序、进程） 粗粒度 软件实现
	
	指令级（指令之间） （指令内部） 细粒度 硬件实现

指标
设 $m$ 段流水线，$n$ 条指令
1. 吞吐率：单位时间内完成流水线数量 $T_{p}=\dfrac{n}{m \Delta t+(n-1)\Delta t}$+
2. 加速比：流水线速度与非流水线速度之比 $S_{p}=\dfrac{nm\Delta t}{m\Delta t+(n-1)\Delta t}=\dfrac{nm}{m+n-1}$
3. 效率：各功能段利用率（画时空图，各阶段处于工作时间的时空区/总时空区）
	$\dfrac{mn\Delta t}{m(m+n-1)\Delta t}$
	![[Pasted image 20250502221111.png]]