## 文法分类

> [!def] 文法定义
> $(V_{N}, V_{T}, P, S)$
> - $V_{N}$: 非终结符
> - $V_{T}$: 终结符
> - $P$: 产生式集合
> - $S$: 开始符号
> [[上下文无关语言#上下文无关文法]] 是一种文法 ($2$型文法)


> [!def] $0$ 型文法
> $0$ 型文法：短语结构文法，PSG
> 每个产生式都是 $\alpha\to\beta: \alpha \in(V_{N}\cup V_{T})^*,\beta \in(V_{N}\cup V_{T})^*$ 且 $\alpha$ 至少含有一个非终结符

$0$ 型文法等价于图灵机。

> [!def] $1$ 型文法
> 上下文有关文法，CSG
> 每个产生式：$xAy\to x\beta y$，$A \in V_{N}, \beta \in(V_{N}\cup V_{T})^+,x,y\in(V_{N}\cup V_{T})^*$
> 另一种定义：每个产生式 $\alpha\to\beta$ 满足 $\lvert \beta \rvert\geq \lvert \alpha \rvert$，特例：$S\to\varepsilon$

由定义 $1$ 推到定义 $2$ 比较显然，下面证明反向等价： 
对于 产生式 $\alpha_{1}\alpha_{2}\dots\alpha_{n} \to\beta_{1}\dots\beta_{m}$:
定义一个“活跃标记”，表示哪些非终结符是当前处理的，
初始时 $\alpha_{1}$ 活跃，$\underbrace{ \varepsilon }_{ x }\alpha_{1}\underbrace{ \alpha_{2}\dots\alpha_{n} }_{ y }\to \underbrace{ \varepsilon }_{ x }\alpha'_{1}\underbrace{ \alpha_{2}\dots\alpha_{n} }_{ y }$
随后根据活跃的上下文信息添加活跃标记或者转换成 $\beta$
例如：
$BC\to CB$:
$BC\to C_{1}C\to C_{1}B_{1}\to CB_{1}\to CB$

$1$ 型文法等价于线形界限自动机。

可以描述3个项数量关系
语言 $\{ a^nb^nc^n,n\geq 1 \}$ 可以用 $1$ 型文法表示

	S→aSBC | aBC
	CB→BC
	aB→ab
	bB→bb
	bC→bc
	cC→cc

> [!def] $2$ 型文法
> 上下文无关文法，CFG
> 每个产生式：$A\to\beta,A\in V_{N},\beta \in(V_{N}\cup V_{T})^*$

2 型文法等价于下推自动机
可以对两个项进行描述, e.g. $a^nc b^n$

> [!def] 3 型文法
> 正则文法，线性文法，RG
> 每个产生式：$A\to aB$ 或 $A\to a$ 其中 $A,B\in V_{N},a\in V_{T}$
> 上面的是右线性文法，也可以是左线性文法 $A\to Ba\mid a$

> [!theorem] 层次关系
> 3型语言类 $\subset$ 2型语言类 $\subset$ 1型语言类 $\subset$ 0型语言类

> [!warning]
> 语言本身的包含关系可以是相反的，考虑如下例子：
> $L_{1}=\{ a^ib^jc^k \mid i,j,k\geq 1,i=j=k \}$ 是 1,2,3 型语言
> $L_{2}=\{ a^ib^jc^k\mid i,j,k\geq 1,i=j \}$ 是 2,3 型语言
> $L_{3}=\{ a^ib^jc^k\mid i,j,k\ge 1 \}$ 是3型语言
> $L_{1}\subset L_{2}\subset L_{3}$
> 

---

编译器的词法：3 型文法 (regex)；语法：2 型文法 (BNF)
