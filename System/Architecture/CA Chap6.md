AXI æ€»çº¿åŸºæœ¬ä¿¡å·ï¼š

å‡å®šä¸€ç»„AXI 3.0æ€»çº¿ï¼ŒIDå®½åº¦ä¸º8ï¼Œæ•°æ®å®½åº¦ä¸º64ï¼Œåœ°å€å®½åº¦ä¸º32

AWLEN: çªå‘é•¿åº¦ï¼ŒAXI3.0è§„å®šæœ€é•¿ 16 byte
AWSIZE: æ•°æ®é•¿åº¦ï¼Œ$\text{AWSIZE}=n \Longleftrightarrow\text{len}=2^{n}$

| ä¿¡å·ç±»åž‹ | æ•°é‡ | è¯´æ˜Ž |
| --- | --- | --- |
| AWID | 8 | åœ°å€å†™é€šé“ID |
| AWADDR | 32 | åœ°å€å†™é€šé“åœ°å€ |
| AWLEN | 4 | åœ°å€å†™é€šé“çªå‘é•¿åº¦ |
| AWSIZE | 3 | å†™è¯·æ±‚æ•°æ®å®½åº¦ |
| AWBURST | 2 | åœ°å€å†™é€šé“çªå‘ç±»åž‹ |
| AWVALID | 1 | åœ°å€å†™é€šé“æœ‰æ•ˆä¿¡å· |
| AWREADY | 1 | åœ°å€å†™é€šé“å°±ç»ªä¿¡å· |
| WID | 8 | å†™æ•°æ®é€šé“ID |
| WDATA | 64 | å†™æ•°æ®é€šé“æ•°æ® |
| WSTRB | 8 | å†™æ•°æ®é€šé“å­—èŠ‚ä½¿èƒ½ |
| WLAST | 1 | å†™æ•°æ®é€šé“æœ€åŽä¸€æ‹ä¿¡å· |
| WVALID | 1 | å†™æ•°æ®é€šé“æœ‰æ•ˆä¿¡å· |
| WREADY | 1 | å†™æ•°æ®é€šé“å°±ç»ªä¿¡å· |
| BID | 8 | å†™å“åº”é€šé“ID |
| BRESP | 2 | å†™å“åº”é€šé“å“åº” |
| BVALID | 1 | å†™å“åº”é€šé“æœ‰æ•ˆä¿¡å· |
| BREADY | 1 | å†™å“åº”é€šé“å°±ç»ªä¿¡å· |
| ARID | 8 | åœ°å€è¯»é€šé“ID |
| ARADDR | 32 | åœ°å€è¯»é€šé“åœ°å€ |
| ARLEN | 4 | åœ°å€è¯»é€šé“çªå‘é•¿åº¦ |
| ARSIZE | 3 | åœ°å€è¯»é€šé“çªå‘å¤§å° |
| ARBURST | 2 | åœ°å€è¯»é€šé“çªå‘ç±»åž‹ |
| ARVALID | 1 | åœ°å€è¯»é€šé“æœ‰æ•ˆä¿¡å· |
| ARREADY | 1 | åœ°å€è¯»é€šé“å°±ç»ªä¿¡å· |
| RID | 8 | è¯»æ•°æ®é€šé“ID |
| RDATA | 64 | è¯»æ•°æ®é€šé“æ•°æ® |
| RRESP | 2 | è¯»æ•°æ®é€šé“å“åº” |
| RVALID | 1 | è¯»æ•°æ®é€šé“æœ‰æ•ˆä¿¡å· |
| RREADY | 1 | è¯»æ•°æ®é€šé“å°±ç»ªä¿¡å· |
| RLAST | 1 | è¯»æ•°æ®é€šé“æœ€åŽä¸€æ‹ä¿¡å· |

---

> [!note] SDRAMå·¥ä½œæµç¨‹ï¼š
> 
> ä¸‹é¢ç”¨ **ç›´è§‚ã€å‡†ç¡®ã€å·¥ç¨‹å¸ˆè§†è§’**è§£é‡Š SDRAM çš„ä¸‰ä¸ªæ ¸å¿ƒæ“ä½œï¼š**æ¿€æ´»ï¼ˆACTIVATEï¼‰**ã€**è¯»ï¼ˆREADï¼‰**ã€**é¢„å……ç”µï¼ˆPRECHARGEï¼‰**ã€‚
> 
> ---
> 
> ### ðŸŒŸ SDRAM çš„ 3 ä¸ªå…³é”®åŠ¨ä½œï¼ˆä½ ç†è§£å®ƒå°±ç†è§£ SDRAM 80%ï¼‰
> 
> SDRAM æ˜¯ **è¡Œç¼“å†²ï¼ˆrow bufferï¼‰ç»“æž„**ï¼Œä¸€æ¬¡æ“ä½œçš„æœ¬è´¨æ˜¯ï¼š
> 
> - å…ˆæŠŠ**æ•´è¡Œ**æ¬è¿› row buffer
>     
> - å†ä»Ž row buffer è¯»/å†™æŸåˆ—
>     
> - æœ€åŽæŠŠ row buffer å…³é—­ï¼ˆæ¸…ç©ºï¼‰
>     
> 
> è¿™ä¸‰æ­¥å¯¹åº”ï¼š
> 
> |SDRAM æ“ä½œ|å¯¹åº”åŠ¨ä½œ|å¿…é¡»é¡ºåº|
> |---|---|---|
> |**ACTIVATE**|æ‰“å¼€æŸä¸€è¡Œï¼ŒæŠŠæ•´è¡Œæ•°æ®åŠ è½½è¿› row buffer|ç¬¬ä¸€æ­¥|
> |**READ / WRITE**|ä»Ž row buffer çš„æŸä¸€åˆ—è¯»å–/å†™å…¥æ•°æ®|ç¬¬äºŒæ­¥|
> |**PRECHARGE**|å…³é—­å½“å‰è¡Œï¼ŒæŠŠ row buffer æ¸…ç©º|ç¬¬ä¸‰æ­¥|
> 
> ä¹Ÿå°±æ˜¯è¯´ï¼š
> 
> > SDRAM çš„ä¸€è¡Œå¿…é¡» _æ¿€æ´» â†’ ä½¿ç”¨ï¼ˆè¯»/å†™ï¼‰â†’ é¢„å……ç”µ_ï¼Œç„¶åŽæ‰èƒ½è®¿é—®ä¸‹ä¸€è¡Œã€‚
> 
> ---
> 
> #### 1) ACTIVATEï¼ˆæ¿€æ´»ï¼‰
> 
> **å«ä¹‰ï¼šæ‰“å¼€ä¸€ä¸ª rowï¼ˆè¡Œï¼‰ï¼ŒæŠŠè¡Œæ•°æ®è¯»åˆ° row buffer ä¸­ã€‚**
> 
> - SDRAM æ˜¯åŸºäºŽç”µå®¹çš„è¡Œé˜µåˆ—
>     
> - ä¸èƒ½ç›´æŽ¥è¯»æŸä¸ªåˆ—
>     
> - å¿…é¡»å…ˆæŠŠæ•´è¡Œâ€œç¿»å‡ºæ¥â€æ”¾è¿› row buffer
>     
> 
> æŒ‡ä»¤ï¼š
> 
> ```
> ACTIVATE bank, row
> ```
> 
> ##### å»¶è¿Ÿï¼štRCDï¼ˆRAS to CAS delayï¼‰
> 
> æ¿€æ´»åŽ **å¿…é¡»ç­‰å¾… tRCD** æ‰èƒ½æ‰§è¡Œ READ/WRITEã€‚
> 
> ##### é‡è¦ç‰¹å¾
> 
> - æ¯ä¸ª bank åŒæ—¶åªèƒ½æ¿€æ´» **ä¸€è¡Œ**
>     
> - æ¿€æ´»æ˜¯ä¸€ä¸ªâ€œé‡æ“ä½œâ€ï¼Œä¼šæ¶ˆè€—æ—¶é—´å’Œèƒ½é‡
>     
> - ä¸€æ—¦æ¿€æ´»ï¼Œä¸€è¡Œï¼ˆä¸€èˆ¬ 8KBï¼‰å°±é©»ç•™åœ¨ row buffer
>     
> 
> ---
> 
> ### 2) READï¼ˆè¯»æ•°æ®ï¼‰
> 
> åœ¨æŸè¡Œå·²æ¿€æ´»åŽï¼ŒæŽ§åˆ¶å™¨å†æ‰§è¡Œï¼š
> 
> ```
> READ bank, column
> ```
> 
> SDRAM ä»Ž row buffer çš„æŸä¸€åˆ—å¼€å§‹è¿”å›žæ•°æ®ã€‚
> 
> ##### å»¶è¿Ÿï¼šCAS Latencyï¼ˆCLï¼‰
> 
> READ å‘å‡ºåŽï¼Œè¦ç­‰å¾… CL ä¸ªæ—¶é’Ÿæ‰èƒ½æ‹¿åˆ°ç¬¬ä¸€ä¸ªæ•°æ®ã€‚
> 
> ##### SDRAM æ˜¯ **çªå‘è¯»å–ï¼ˆburst readï¼‰**
> 
> è¯»å–çš„ä¸ä»…æ˜¯ä¸€ä¸ª columnï¼Œè€Œæ˜¯ï¼š
> 
> - BL = 4 / 8 / 16 ä¸ªè¿žç»­æ•°æ®
>     
> - æ•°æ®æŒ‰çªå‘é•¿åº¦è‡ªåŠ¨æµå‡º
>     
> 
> ---
> 
> ### 3) PRECHARGEï¼ˆé¢„å……ç”µï¼‰
> 
> **å…³é—­å½“å‰è¡Œï¼ŒæŠŠ row buffer æ¸…ç©ºï¼ˆrestore æ•°æ®å›žé˜µåˆ— & reset bitlinesï¼‰ã€‚**
> 
> å½“ä½ è¦è®¿é—® **å¦å¤–ä¸€è¡Œ** æ—¶å¿…é¡»ï¼š
> 
> ```
> PRECHARGE bank
> ```
> 
> ##### å»¶è¿Ÿï¼štRPï¼ˆRow Precharge Timeï¼‰
> 
> é¢„å……ç”µéœ€è¦ç­‰å¾… tRP åŽæ‰èƒ½ ACTIVATE æ–°çš„è¡Œã€‚
> 
> ##### ä¸ºä»€ä¹ˆéœ€è¦é¢„å……ç”µï¼Ÿ
> 
> å› ä¸º SDRAM å†…å­˜é˜µåˆ—æ¯æ¬¡åªèƒ½é©±åŠ¨ä¸€è¡Œåˆ° bitline  
> â†’ å…³é—­å½“å‰è¡ŒåŽæ‰èƒ½æ‰“å¼€ä¸‹ä¸€è¡Œ  
> â†’ å°±åƒæŠ½å±‰å¿…é¡»å…³ä¸Šæ‰èƒ½æ‰“å¼€å¦ä¸€ä¸ª
> 
> ---
> 
> ### ðŸ”„ SDRAM ä¸€æ¬¡å®Œæ•´è®¿é—®çš„å…¸åž‹æµç¨‹ï¼ˆæ ¸å¿ƒï¼‰
> 
> è®¿é—® **ä¸åŒè¡Œ** æ—¶ï¼š
> 
> ```
> ACTIVATE(row X)
>   â””â”€ ç­‰ tRCD
> READ(col Y)
>   â””â”€ ç­‰ CL
> æ•°æ®è¾“å‡º
> 
> PRECHARGE
>   â””â”€ ç­‰ tRP
> ACTIVATE(row Z)
> ...
> ```
> 
> è®¿é—®**åŒä¸€è¡Œ**ï¼ˆrow hitï¼‰æ—¶ï¼Œä¸éœ€è¦ ACTIVATE/PRECHARGEï¼Œé€Ÿåº¦éžå¸¸å¿«ã€‚
> 
> ---
> 
> æŠŠ SDRAM æƒ³æˆä¸€ä¸ªå·¨å¤§çš„æŸœå­ï¼Œæ¯ä¸€è¡Œæ˜¯ä¸€ä¸ªæŠ½å±‰ï¼š
> 
> - **ACTIVATEï¼šæ‰“å¼€æŸä¸ªæŠ½å±‰ï¼ˆè¯»è¿› row bufferï¼‰**
>     
> - **READ / WRITEï¼šä»ŽæŠ½å±‰é‡Œæ‹¿æŸä¸ªä½ç½®çš„æ•°æ®**
>     
> - **PRECHARGEï¼šæŠŠæŠ½å±‰å…³ä¸Šï¼ˆæ¸…ç©º row bufferï¼‰**
>     
> 
> è¦è¯»å–åˆ«çš„æŠ½å±‰ï¼šå¿…é¡»å…ˆå…³æŠ½å±‰ï¼ˆé¢„å……ç”µï¼‰å†æ‰“å¼€æ–°çš„ï¼ˆæ¿€æ´»ï¼‰ã€‚
> 