### 存储一致性模型

- 顺序一致性：对于满足顺序一致性的多处理机中的任一执行，总可以找到同一程序在单机多进程环境下的一个执行与之对应，使得二者结果相等。

> [!note] 解释定义
> 单机多进程和多核的区别：单机多进程虽然执行是乱序的，但是提交（完成）是一定满足代码指令顺序的，而多核由于cache等问题可能表现成提交顺序与代码指令顺序不同。
> 因此，单机多进程的每一个进程内部一定是有序的，天然满足顺序一致性

- 处理器一致性：允许后面的 load 越过之前的 store 先一步完成，这样在其他核 store 广播无效信号的时候，Reorder Buffer 里面的 load 操作可以不用取消

- 弱一致性：只有同步操作的执行满足顺序一致性条件：在任一普通访存操作被允许执行之前，所有在同一处理器中先于这一访存操作的同步操作都已完成；在任一同步操作被允许执行之前，所有在同一处理器中先于这一同步操作的普通访存操作都已完成。

- 释放一致性：把弱一致性的同步操作拆成两种，分别是 release 和 acquire。同步操作的执行满足顺序一致性条件；在任一普通访存操作被允许执行之前，所有在同一处理器中先于这一访存操作的acquire操作都已完成；在任一release操作被允许执行之前，所有在同一处理器中先于这一release的普通访存操作都已完成

### Cache一致性协议

