relocate前，目标文件只存偏移量，然后在重定位表里生成一个重定位项，表示这里需要重定位
e.g. `7: R_386_PC32    swap`，表示需要将 7 开头的内存加上 32 位 相对于 PC 偏移量的 swap 地址

![[relocate.png]]
$S-(P-A)$，其中 $(P-A)=$`0x80482fb` 是 call 的下一条指令地址，拿目标地址 $S$ 减去 $(P-A)$ 得到相对偏移量

---

strong/weak symbol:
- Strong: procedures and initialized globals
- Weak: uninitialized globals

不允许多个 strong symbol，若有一个s-symbol，选这个，若不存在，任选一个w-symbol
