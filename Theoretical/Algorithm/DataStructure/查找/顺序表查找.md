- 哨兵/sentinel：放在表头/表尾，key和待查key相同，可以去掉判断表长的逻辑，只用判断key是否相等

---

二分查找
- 判定树

斐波那契查找
设序列长度是 $F_{k}-1$ （为什么要 $-1$? 因为 $F_{k}-1=(F_{k-1}-1)+(F_{k-2}-1)+1$，可以在去掉 mid 对应点之后维护 $-1$ 的性质）
```
| ----------- F_(k-1) - 1 ---------- | mid | -- F_(k-2) - 1 -- |
```
- 实现时，避免频繁求 $F$，记录下当前的左右区间长度 $f_{1},f_{2}$，
	- 更新到右侧区间：$f_{1}\gets f_{1}-f_{2}; \quad f_{2} \gets f_{2}-f_{1}$
	- 更新到左侧区间：$f_{2}\gets f_{1}-f_{2}; \quad f_{1}\gets f_{1}-f_{2}$

---

次优查找树：
每次选最接近中位数（两边概率尽可能相等）的位置作根
$$
\Delta P_{i}=\left\lvert  \sum_{j=i+1}^h w_{j}-\sum_{j=l}^{i-1}w_{j}  \right\rvert 
$$

为什么是次优的？可以在左右子树不为完全二叉树的情况下无痛调整根节点使得权重更大的节点更浅
e.g. $0.1,0.39,0.01,0.1,0.1,0.1,0.1,0.1$

选 $0.01$ 不如选 $0.39$ 作根。

---

分块查找：

$\text{ASL}=L_{b}+L_{w}=\dfrac{1}{b} \sum_{j=1}^bj+\dfrac{1}{s}\sum_{i=1}^s i= \dfrac{b+1}{2}+\dfrac{s+1}{2}=\dfrac{1}{2}\left( \dfrac{n}{s}+s \right)+1$
查找块时用折半：
$$
\text{ASL}\simeq \log_{2}\left( \dfrac{n}{s}+1 \right)+\dfrac{s}{2}
$$
